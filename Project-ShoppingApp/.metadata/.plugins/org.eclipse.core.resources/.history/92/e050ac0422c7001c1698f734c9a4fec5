package suppliers.classes;

import java.sql.Connection;
import java.sql.*;

import appconstants.ShoppingAppConstants;
import sql.DatabaseConnection;
import utilities.classes.GetDetails;

public class SupplierLogin {
	public boolean supplierLogin()
	{
		String sql="";
		Connection connect = DatabaseConnection.getConnection();
		GetDetails getDetails = new GetDetails();
		getDetails.getSupplierLoginDetails();
		if (getDetails.supplierUserName == "" || getDetails.supplierPassword == "") {
			System.out.println(ShoppingAppConstants.incompleteFields);
			return false;
		}
		sql = "select * from "+ShoppingAppConstants.suppliersTable+" where "+ShoppingAppConstants.supplierUserNameColumn+"='"
				+ getDetails.supplierUserName + "' and "+ShoppingAppConstants.supplierPasswordColumn+"='" + getDetails.supplierPassword+"'";
			try {
				PreparedStatement statement = connect.prepareStatement(sql);
				ResultSet resultset = statement.executeQuery();
				if(resultset.next())
				{
					return true;
				}
			} catch (SQLException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		System.out.println(ShoppingAppConstants.invalidLoginCredentials);
		return false;
		
	}
}
